const{components:m}=window.enmity;m.Alert,m.Button;const He=m.FlatList,fe=m.Image;m.ImageBackground,m.KeyboardAvoidingView,m.Modal,m.Pressable;const qe=m.RefreshControl,se=m.ScrollView;m.SectionList,m.StatusBar,m.StyleSheet,m.Switch;const C=m.Text;m.TextInput,m.TouchableHighlight;const x=m.TouchableOpacity;m.TouchableWithoutFeedback,m.Touchable;const T=m.View;m.VirtualizedList,m.Form,m.FormArrow,m.FormCTA,m.FormCTAButton,m.FormCardSection,m.FormCheckbox;const M=m.FormDivider;m.FormHint,m.FormIcon,m.FormInput,m.FormLabel,m.FormRadio;const y=m.FormRow;m.FormSection,m.FormSelect,m.FormSubLabel;const re=m.FormSwitch;m.FormTernaryCheckBox,m.FormText,m.FormTextColors,m.FormTextSizes;function Ke(e){window.enmity.plugins.registerPlugin(e)}const O={byProps:(...e)=>window.enmity.modules.filters.byProps(...e),byName:(e,t)=>window.enmity.modules.filters.byName(e,t),byTypeName:(e,t)=>window.enmity.modules.filters.byTypeName(e,t),byDisplayName:(e,t)=>window.enmity.modules.filters.byDisplayName(e,t)};function We(e,t){return window.enmity.modules.getModule(e,t)}function Je(...e){return window.enmity.modules.bulk(...e)}function I(...e){return window.enmity.modules.getByProps(...e)}function pe(...e){return window.enmity.modules.getByName(...e)}window.enmity.modules.common;const d=window.enmity.modules.common.Constants,ie=window.enmity.modules.common.Clipboard;window.enmity.modules.common.Assets,window.enmity.modules.common.Messages,window.enmity.modules.common.Clyde,window.enmity.modules.common.Avatars;const U=window.enmity.modules.common.Native,n=window.enmity.modules.common.React;window.enmity.modules.common.Dispatcher;const le=window.enmity.modules.common.Storage,v=window.enmity.modules.common.Toasts,F=window.enmity.modules.common.Dialog;window.enmity.modules.common.Token,window.enmity.modules.common.REST,window.enmity.modules.common.Settings;const be=window.enmity.modules.common.Users;window.enmity.modules.common.Navigation;const we=window.enmity.modules.common.NavigationNative;window.enmity.modules.common.NavigationStack;const Ee=window.enmity.modules.common.Theme;window.enmity.modules.common.Linking;const _=window.enmity.modules.common.StyleSheet;window.enmity.modules.common.ColorMap,window.enmity.modules.common.Components,window.enmity.modules.common.Locale,window.enmity.modules.common.Profiles,window.enmity.modules.common.Lodash,window.enmity.modules.common.Logger,window.enmity.modules.common.Flux,window.enmity.modules.common.SVG,window.enmity.modules.common.Scenes,window.enmity.modules.common.Moment;function Xe(e){return window.enmity.patcher.create(e)}var i="Dislate",j="1.4.2",Qe="Translates text into a desired language.",ve="stable",Ze=[{name:"Acquite <3",id:"581573474296791211",profile:"https://github.com/acquitelol/"}],A={download:"https://raw.githubusercontent.com/acquitelol/dislate/main/dist/Dislate.js",repo:"https://github.com/acquitelol/dislate",build:"patch-2.2.8",hash:"d36fc548"},et="#ff91ff",S={name:i,version:j,description:Qe,release:ve,authors:Ze,plugin:A,color:et};function P(e,t,a){window.enmity.settings.set(e,t,a)}function h(e,t,a){return window.enmity.settings.get(e,t,a)}function K(e,t,a){return window.enmity.settings.getBoolean(e,t,a)}function Se(e,t,a){return window.enmity.utilities.findInReactTree(e,t,a)}const tt="https://translate.googleapis.com/translate_a/single",Te={fetch:({from:e,to:t,text:a})=>`${tt}?client=gtx&sl=${e}&tl=${t}&dt=t&q=${encodeURIComponent(a)}`,parse:e=>e.json().then(t=>{if(t=t&&t[0]&&t[0][0]&&t[0].map(a=>a[0]).join(""),!t)throw new Error("Invalid Translation!");return t})};if(typeof fetch=="undefined")try{global.fetch=require("node-fetch")}catch{console.warn("Please make sure node-fetch is available")}async function nt(e,{fromLanguage:t,toLanguage:a}){const s=Te.fetch({text:e,from:t,to:a});return await fetch(s).then(Te.parse)}async function at(e,{fromLanguage:t="detect",toLanguage:a="english"},s,o){return o?e:await nt(e,{fromLanguage:s[t],toLanguage:s[a]})}var W={string:at};const{native:G}=window.enmity;function ot(){G.reload()}const ce=G.version;G.build;const st=G.device;G.version;var V=(e,t,a,s,o)=>{try{return e(...t)}catch(r){console.warn(`[${a}] The following error happened when trying to ${s} ${o!=null?o:"unspecificied label"}: ${r}`);return}};async function $e(){var e,t,a;const s=window.HermesInternal.getRuntimeProperties(),o=I("View","Text").Platform.constants,r=o.reactNativeVersion;return{Plugin:{Version:j,Build:A.hash,Channel:ve},Client:{Version:U.InfoDictionaryManager.Version,Build:U.InfoDictionaryManager.Build,Release:U.InfoDictionaryManager.ReleaseChannel,Bundle:U.InfoDictionaryManager.Identifier.split(".")[2]},React:{Version:n.version,Bytecode:s["Bytecode Version"],Hermes:s["OSS Release Version"],Native:`${(e=r.major)!=null?e:0}.${(t=r.minor)!=null?t:0}.${(a=r.patch)!=null?a:0}`},Native:{Version:U.DCDDeviceManager.systemVersion,Device:st,Manufacturer:U.DCDDeviceManager.deviceManufacturer,Idiom:o.interfaceIdiom}}}async function rt(e,t){return await V(async function(){let a=[`**[${i}] Debug Information**
`];const s=await $e();return Object.keys(e).forEach(o=>{Object.values(e[o]).some(r=>r)&&a.push(`[**${o}**]`),Object.keys(e[o]).forEach(r=>{e[o][r]&&s[o][r]&&a.push(`> **${r}**: ${s[o][r]}`)})}),a.join(`
`)},[e],i,"creating debug info at",t)}var B={fetchDebugArguments:$e,debugInfo:rt};function w(e){return window.enmity.assets.getIDByName(e)}var g={Translate:w("img_nitro_star"),Revert:w("ic_highlight"),Debug:w("debug"),Retry:w("ic_message_retry"),Failed:w("Small"),Cancel:w("ic_megaphone_nsfw_16px"),Delete:w("ic_message_delete"),Copy:w("toast_copy_link"),Open:w("ic_leave_stage"),Clipboard:w("pending-alert"),Add:w("ic_add_perk_24px"),Clock:w("clock"),Settings:{Toasts:{Context:w("toast_image_saved"),Settings:w("ic_selection_checked_24px"),Failed:w("ic_close_circle_24px")},TranslateFrom:w("ic_raised_hand_list"),TranslateTo:w("ic_activity_24px"),Debug:w("ic_rulebook_16px"),Initial:w("coffee"),Update:w("discover"),Locale:w("ic_locale_24px"),Back:w("ios-back")}};const it={messageSpoofer:"69",copyEmbed:"1337",invisChat:"420",cutMessage:"512",dislate:"1002",viewRaw:"-1"},lt=(e=.1)=>({shadowColor:"#000",shadowOffset:{width:1,height:4},shadowOpacity:e,shadowRadius:4.65,elevation:8}),me=_.createThemedStyleSheet({container:{backgroundColor:d.ThemeColorMap.BACKGROUND_MOBILE_SECONDARY,flex:.5},card:{backgroundColor:d.ThemeColorMap.BACKGROUND_MOBILE_PRIMARY,color:d.ThemeColorMap.TEXT_NORMAL},header:{backgroundColor:d.ThemeColorMap.BACKGROUND_MOBILE_SECONDARY,shadowColor:"transparent",elevation:0},text:{color:d.ThemeColorMap.HEADER_PRIMARY,fontFamily:d.Fonts.PRIMARY_MEDIUM,fontSize:16},title:{color:"white",fontFamily:d.Fonts.PRIMARY_NORMAL}}),ct={cardStyle:me.card,headerStyle:me.header,headerTitleContainerStyle:{color:d.ThemeColorMap.HEADER_PRIMARY},headerTitleAlign:"center",safeAreaInsets:{top:0}},mt=(e,t)=>{v.open({content:t=="clipboard"?`Copied ${e} to clipboard.`:e,source:t=="clipboard"?g.Clipboard:g.Settings.Initial})},ut=e=>V(()=>{if(parseInt(ce.substring(0,3))>164){const{RawColor:t}=I("SemanticColor");return t[e[Ee.theme].raw]}return e[{dark:0,light:1,amoled:2}[Ee.theme]]},[e],i,"getting a formatted color for both newest and older versions"),gt=(e,t,a,s=186,o)=>V(()=>{var r;let l=(r=ut(e))==null?void 0:r.replace("#","");const c=(b,k,oe)=>parseInt(b.substring(k[0],k[1]),oe),p=c(l,[0,2],16),u=c(l,[2,4],16),f=c(l,[4,6],16);return(p+u+f)/(255*3)>s?a:t},[e,t,a,s],i,"checking if color should be light or dark at",o);var E={externalPlugins:it,shadow:lt,PageStyles:me,PageOptions:ct,displayToast:mt,filterColor:gt};async function dt(e,t){await V(async function(){var a;e.type==="storage"?await le.setItem(e.name,JSON.stringify(e.content)):P(i,e.name,e.content);const s=JSON.parse((a=h(i,"state_store",null))!=null?a:"[]");s.find(o=>o.name===e.name)||s.push(e),P(i,"state_store",JSON.stringify(s))},[e],i,"storing an item in plugin file or storage at",t)}var J={item:dt};const ht=(e,t)=>e.split(t?/(?=[A-Z])/:"_").map(a=>a[0].toUpperCase()+a.slice(1)).join(" ");var $={string:ht};async function yt(){await V(async function(){const e=`${A.download}?${Math.floor(Math.random()*1001)}.js`,t=await(await fetch(e)).text(),a=t.match(/\d+\.\d+\.\d+/g),s=t.match(/hash:"(.*?)"/);if(!a&&!s)return pt(i,[j,A.build]);const o=a&&a[0],r=s&&s[1];return o&&o!=j?Le(e,o,"version"):r&&r!=A.hash?Le(e,r,"build"):ft(i,[j,A.hash])},[A],i,"checking if latest version at","the async check for updates callback")}const Le=(e,t,a)=>{F.show({title:"Update found",body:`A newer ${a} is available for ${i}. ${a=="build"?`
The version will remain at ${j}, but the build will update to ${t}.`:""}
Would you like to install ${a} \`${t}\` now?`,confirmText:"Update",cancelText:"Not now",onConfirm:()=>bt(e,t,a)})},ft=(e,[t,a])=>{console.log(`[${e}] Plugin is on the latest update, which is version ${t} and build ${a}`),F.show({title:"Already on latest",body:`${e} is already updated to the latest version.
Version: \`${t}\`
Build: \`${a}\``,confirmText:"Okay"})},pt=(e,[t,a])=>{console.log(`[${e}] Plugin failed to update to the latest version and build, remaining at ${t} and ${a}`),F.show({title:"Failed",body:`${e} to find a new version or build.
The current versions will remain as follows:
Version: \`${t}\`
Build: \`${a}\``,confirmText:"Okay"})};async function bt(e,t,a){await V(async function(){window.enmity.plugins.installPlugin(e,({data:s})=>{s=="installed_plugin"||s=="overridden_plugin"?F.show({title:`Updated ${i}`,body:`Successfully updated to ${a} \`${t}\`. 
Would you like to reload Discord now?`,confirmText:"Reload",cancelText:"Not now",onConfirm:()=>ot()}):console.log(`[${i}] Plugin failed to update to ${a} ${t}.`)})},[e,t,a],i,"installing plugin because","new version available")}var wt={checkForUpdates:yt},Ce;(function(e){e[e.BuiltIn=0]="BuiltIn",e[e.Guild=1]="Guild",e[e.DM=2]="DM"})(Ce||(Ce={}));var X;(function(e){e[e.Chat=1]="Chat",e[e.User=2]="User",e[e.Message=3]="Message"})(X||(X={}));var Q;(function(e){e[e.BuiltIn=0]="BuiltIn",e[e.BuiltInText=1]="BuiltInText",e[e.BuiltInIntegration=2]="BuiltInIntegration",e[e.Bot=3]="Bot",e[e.Placeholder=4]="Placeholder"})(Q||(Q={}));var De;(function(e){e[e.Role=1]="Role",e[e.User=2]="User"})(De||(De={}));var H;(function(e){e[e.SubCommand=1]="SubCommand",e[e.SubCommandGroup=2]="SubCommandGroup",e[e.String=3]="String",e[e.Integer=4]="Integer",e[e.Boolean=5]="Boolean",e[e.User=6]="User",e[e.Channel=7]="Channel",e[e.Role=8]="Role",e[e.Mentionnable=9]="Mentionnable",e[e.Number=10]="Number",e[e.Attachment=11]="Attachment"})(H||(H={}));var Re;(function(e){e[e.ApplicationCommand=2]="ApplicationCommand",e[e.MessageComponent=3]="MessageComponent"})(Re||(Re={}));var N=["detect","amharic","arabic","aymara","assamese","akan","azerbaijani","belarusian","bulgarian","bambara","bengali","corsican","czech","bosnian","danish","catalan","valencian","german","ewe","divehi","dhivehi","maldivian","english","greek","estonian","esperanto","basque","spanish","castilian","finnish","french","persian","irish","galician","guarani","western_frisian","gujarati","gaelic","scottish_gaelic","hausa","croatian","hebrew","hindi","haitian","haitian_creole","armenian","indonesian","hungarian","igbo","icelandic","italian","georgian","javanese","japanese","korean","kazakh","kannada","afrikaans","central_khmer","welsh","kurdish","kirghiz","kyrgyz","latin","luxembourgish","letzeburgesch","ganda","lao","latvian","lingala","lithuanian","malagasy","macedonian","malayalam","maori","marathi","norwegian_bokm\xE5l","mongolian","burmese","maltese","nepali","malay","dutch","flemish","chichewa","chewa","nyanja","norwegian","oromo","oriya","panjabi","punjabi","polish","quechua","pushto","pashto","russian","sanskrit","romanian","moldavian","moldovan","slovenian","kinyarwanda","slovak","sinhala","sinhalese","samoan","shona","somali","serbian","albanian","swahili","southern_sotho","swedish","sundanese","tamil","tajik","telugu","tagalog","turkmen","tigrinya","thai","tsonga","sindhi","portuguese","twi","turkish","tatar","urdu","ukrainian","uighur","uyghur","uzbek","vietnamese","yiddish","xhosa","chinese_traditional","chinese_simplified","zulu","yoruba"],q=["auto","am","ar","ay","as","ak","az","be","bg","bm","bn","co","cs","bs","da","ca","ca","de","ee","dv","dv","dv","en","el","et","eo","eu","es","es","fi","fr","fa","ga","gl","gn","fy","gu","gd","gd","ha","hr","he","hi","ht","ht","hy","id","hu","ig","is","it","ka","jv","ja","ko","kk","kn","af","km","cy","ku","ky","ky","la","lb","lb","lg","lo","lv","ln","lt","mg","mk","ml","mi","mr","nb","mn","my","mt","ne","ms","nl","nl","ny","ny","ny","no","om","or","pa","pa","pl","qu","ps","ps","ru","sa","ro","ro","ro","sl","rw","sk","si","si","sm","sn","so","sr","sq","sw","st","sv","su","ta","tg","te","tl","tk","ti","th","ts","sd","pt","tw","tr","tt","ur","uk","ug","ug","uz","vi","yi","xh","zh-tw","zh-cn","zu","yo"];const ue=_.createThemedStyleSheet({icon:{color:d.ThemeColorMap.INTERACTIVE_NORMAL},disabled:{color:d.ThemeColorMap.TEXT_MUTED},enabled:{color:d.ThemeColorMap.INTERACTIVE_NORMAL}});var Et=({option:e,parent:t,debugOptions:a,onConfirm:s})=>{const[o,r]=n.useState(h(i,t,{})[e]);return n.useEffect(()=>{const l=h(i,t,{});l[e]||J.item({name:t,content:{...l,[e]:!1},type:"setting",override:{}})},[]),n.createElement(y,{key:e,label:e,onPress:()=>{const l=h(i,t,{});J.item({name:t,content:{...l,[e]:!l[e]},type:"setting",override:{}}),r(h(i,t,{})[e])},onLongPress:async function(){await s(await B.debugInfo({[t]:{[e]:!0}}),`${t} \u279D ${e}`)},leading:n.createElement(y.Icon,{style:ue.icon,source:o?g.Settings.Toasts.Settings:g.Settings.Toasts.Failed}),trailing:()=>n.createElement(C,{style:[{paddingTop:5,paddingBottom:5,paddingRight:10},o?ue.enabled:ue.disabled]},a[t][e])})};const ke={standard:{backgroundColor:"rgba(0, 0, 0, 0.5)",marginTop:20},floating:{position:"absolute",bottom:0,marginBottom:30,backgroundColor:"rgba(0, 0, 0, 0.8)"}},z=_.createThemedStyleSheet({button:{width:"90%",borderRadius:10,marginLeft:"5%",marginRight:"5%",...E.shadow()},text:{color:"#f2f2f2",textAlign:"left",letterSpacing:.25,padding:10},textHeader:{fontSize:20,fontFamily:d.Fonts.PRIMARY_BOLD},textContent:{fontSize:16,fontFamily:d.Fonts.PRIMARY_NORMAL},image:{width:25,height:25,borderRadius:4,position:"absolute",right:0,margin:10}}),xe=window.enmity,ge=xe.modules.common.Components.General.Animated,vt=xe.modules.common.Components.General.Easing;var Ie=({label:e,content:t,type:a})=>{const s=n.useRef(new ge.Value(1)).current;async function o(){const l=()=>ge.timing(s,{toValue:0,duration:250,useNativeDriver:!0,easing:vt.sin}).start();F.show({title:"Close Tip?",body:"You can either hide this information box forever, or just hide it until you open this page again.",confirmText:"Don't Show Again",cancelText:"Cancel",onConfirm:async function(){await J.item({name:e,content:!0,type:"setting",override:!1},`storing dialog at ${e} in Dialog component`),l()}})}const r={transform:[{scale:s}]};return h(i,e,!1)?n.createElement(n.Fragment,null):n.createElement(ge.View,{style:r},n.createElement(x,{style:[z.button,ke[a]||ke.standard],onPress:async function(){await o()}},n.createElement(T,{style:{width:"100%",flexDirection:"row"}},n.createElement(fe,{style:z.image,source:{uri:be.getCurrentUser().getAvatarURL()}})),n.createElement(C,{style:[z.text,z.textHeader]},e),n.createElement(C,{style:[z.text,z.textContent]},t)))};const _e=_.createThemedStyleSheet({text:{color:d.ThemeColorMap.HEADER_SECONDARY,paddingLeft:"5.5%",paddingRight:10,marginBottom:10,letterSpacing:.25,fontFamily:d.Fonts.PRIMARY_BOLD,fontSize:12}});var Z=({label:e,children:t})=>n.createElement(T,{style:{marginTop:10}},n.createElement(C,{style:[_e.text,_e.optionText]},e.toUpperCase()),t);const L=_.createThemedStyleSheet({button:{width:"42.5%",height:50,justifyContent:"center",alignItems:"center",backgroundColor:d.ThemeColorMap.HEADER_PRIMARY,borderRadius:10,marginLeft:"5%",marginTop:20,marginBottom:5},buttonContainer:{flexDirection:"row"},text:{color:E.filterColor(d.ThemeColorMap.HEADER_PRIMARY,"#f2f2f2","#121212",.8,"buttons in debug info menu"),textAlign:"center",paddingLeft:10,paddingRight:10,letterSpacing:.25,fontFamily:d.Fonts.PRIMARY_BOLD},buttonText:{fontSize:16},container:{width:"90%",marginLeft:"5%",borderRadius:10,backgroundColor:d.ThemeColorMap.BACKGROUND_MOBILE_SECONDARY,...E.shadow()},pageContainer:{paddingTop:200,top:-200,paddingBottom:300,marginBottom:-450,backgroundColor:d.ThemeColorMap.BACKGROUND_MOBILE_PRIMARY},searchWrapper:{flexDirection:"row"},searchContainer:{borderRadius:11,width:"65%",overflow:"hidden",marginTop:15,marginLeft:"5%",marginRight:"5%"},search:{margin:0,padding:0,borderBottomWidth:0,background:"none",backgroundColor:"none"},title:{color:d.ThemeColorMap.HEADER_SECONDARY,fontFamily:d.Fonts.DISPLAY_BOLD,letterSpacing:.25,textAlign:"center"},titleContainer:{width:"20%",marginTop:15,backgroundColor:d.ThemeColorMap.BACKGROUND_MOBILE_SECONDARY,borderRadius:10,justifyContent:"center",alignItems:"center"}}),St=pe("StaticSearchBarContainer"),Tt=I("openLazy","hideActionSheet");var $t=({onConfirm:e,type:t})=>{const[a,s]=n.useState([]),[o,r]=n.useState("");return n.useEffect(async function(){s(await B.fetchDebugArguments())},[]),n.createElement(se,{style:L.pageContainer},n.createElement(T,{style:[L.searchWrapper,{...E.shadow(.05)}]},n.createElement(T,{style:L.searchContainer},n.createElement(St,{placeholder:"Search...",style:L.search,inputStyle:L.search,onChangeText:l=>r(l),collapsable:!0,value:o})),n.createElement(x,{style:L.titleContainer,onPress:()=>{Object.keys(a).forEach(l=>{Object.keys(a[l]).forEach(c=>{J.item({name:l,content:{...h(i,l),[c]:!1},type:"setting",override:{}})})}),Tt.hideActionSheet(),v.open({content:"Successfully cleared all debug options.",source:g.Delete})}},n.createElement(C,{style:L.title},"Clear All"))),n.createElement(T,{style:L.buttonContainer},n.createElement(x,{style:L.button,onPress:async function(){await e(await B.debugInfo(await B.fetchDebugArguments()),"full debug log")}},n.createElement(C,{style:[L.text,L.buttonText]},$.string(t!=null?t:"send")," All")),n.createElement(x,{style:L.button,onPress:async function(){const l=Object.keys(a).map(c=>{var p;return{[c]:(p=h(i,c,{}))!=null?p:{}}}).reduce((c,p)=>({...c,...p}),{});await e(await B.debugInfo(l),"partial debug log")}},n.createElement(C,{style:[L.text,L.buttonText]},$.string(t!=null?t:"send")," Message"))),Object.keys(a).map(l=>n.createElement(Z,{label:l},n.createElement(T,{style:L.container},Object.keys(a[l]).filter(c=>o?c.toLowerCase().includes(o):c).map((c,p,u)=>n.createElement(n.Fragment,null,n.createElement(Et,{option:c,parent:l,debugOptions:a,onConfirm:e}),p!==u.length-1?n.createElement(M,null):null))))),n.createElement(Ie,{label:"Information",content:`You can either tap on each item to toggle it and press "${$.string(t!=null?t:"send")} Message", or you can long-press on an item to only send that item.

To close this dialog, press on it.`,type:"standard"}))},Ae;const Pe=((Ae=We(e=>{var t,a;return((a=(t=e.default)==null?void 0:t.render)==null?void 0:a.name)==="ActionSheet"}))!=null?Ae:{default:{render:!1}}).default.render,Lt=I("BottomSheetScrollView").BottomSheetScrollView,Ct=I("openLazy","hideActionSheet");function Me({onConfirm:e,type:t}){Pe?Ct.openLazy(new Promise(a=>a({default:Dt})),"DebugInfoActionSheet",{onConfirm:e,type:t}):v.open({content:"You cannot open ActionSheets on this version! Upgrade to 163+",source:g.Failed})}function Dt({onConfirm:e,type:t}){return n.createElement(Pe,{scrollable:!0},n.createElement(Lt,{contentContainerStyle:{marginBottom:50}},n.createElement($t,{onConfirm:e,type:t})))}var Fe,Be,Ne;const Rt=I("openLazy","hideActionSheet"),Oe=e=>({async debug(){return await new Promise(t=>{Me({onConfirm:(a,s)=>{Rt.hideActionSheet(),v.open({content:`Sent ${s} in #${e}`,source:g.Settings.Toasts.Settings}),t({content:a})},type:"send"})})},async example(){const t="Example Message. Enmity is a state or feeling of active opposition or hostility.",a=Math.floor(Math.random()*N.length),s=N[a],o=await W.string(t,{fromLanguage:"detect",toLanguage:s},Object.assign({},...N.map((r,l)=>({[r]:q[l]}))));return await new Promise(r=>{F.show({title:"Are you sure?",body:`**This is a testing message.**
You are about to send the following:

**English:** ${t}

**${$.string(s)}:** ${o}

Are you sure you want to send this? :3`,confirmText:"Yep, send it!",cancelText:"Nope, don't send it",onConfirm:()=>{v.open({content:`Sent test message in #${e}.`,source:g.Translate}),r({content:`**[${i}] Test Message**

**English:** ${t}
**${$.string(s)}:** ${o}`})},onCancel:()=>{v.open({content:"Cancelled translated message request.",source:g.Cancel}),r({})}})})},async clearStores(){var t,a;const s=(t=JSON.parse(h(i,"state_store",null)))!=null?t:[];for(let o=0;o<s.length;o++){const r=s[o];r.type==="storage"?await le.removeItem(r.name):P(i,r.name,(a=r.override)!=null?a:!1)}P(i,"state_store",null),v.open({content:`Cleared all ${i} stores.`,source:g.Settings.Toasts.Settings})},async download(){return await new Promise(t=>{ie.setString(`${A.download}?${Math.floor(Math.random()*1001)}.js`),E.displayToast("download link","clipboard"),t({})})}}),kt=Object.keys(Oe("placeholder")).map(e=>({name:$.string(e,!0),displayName:$.string(e,!0),value:e}));var xt={id:`${(Fe=i)==null?void 0:Fe.toLowerCase()}`,name:`${(Be=i)==null?void 0:Be.toLowerCase()}`,displayName:`${(Ne=i)==null?void 0:Ne.toLowerCase()}`,description:`Choose from a list of options for debugging in ${i}.`,displayDescription:`Choose from a list of options for debugging in ${i}.`,type:X.Chat,inputType:Q.BuiltInText,options:[{name:"type",displayName:"type",description:"The type of command to execute.",displayDescription:"The type of command to execute.",type:H.String,choices:[...kt],required:!0}],async execute(e,t){var a;const s=e.find(l=>l.name==="type").value,o=Oe(t.channel.name),r=()=>{v.open({content:"Invalid command argument.",source:g.Clock})};return await((a=o[s])!=null?a:r)()}};function It(e,t,a,s){window.enmity.clyde.sendReply(e,t,a,s)}const _t=N.filter(e=>e!=="detect").map(e=>({name:$.string(e),displayName:$.string(e),value:e}));var At={id:"translate",name:"translate",displayName:"translate",description:`Send a message using ${i} in any language chosen, using the Google Translate API.`,displayDescription:`Send a message using ${i} in any language chosen, using the Google Translate API.`,type:X.Chat,inputType:Q.BuiltInText,options:[{name:"text",displayName:"text",description:`The text/message for ${i} to translate. Please note some formatting of mentions and emojis may break due to the API.`,displayDescription:`The text/message for ${i} to translate. Please note some formatting of mentions and emojis may break due to the API.`,type:H.String,required:!0},{name:"language",displayName:"language",description:`The language that ${i} will translate the text into. This can be any language from the list, except "Detect".`,displayDescription:`The language that ${i} will translate the text into. This can be any language from the list, except "Detect".`,type:H.String,choices:[..._t],required:!0}],async execute(e,t){const a=e.find(c=>c.name==="text").value,s=e.find(c=>c.name==="language").value,o=Object.assign({},...N.map((c,p)=>({[c]:q[p]}))),r=await W.string(a,{fromLanguage:h(i,"DislateLangFrom","detect"),toLanguage:s},o),l=await W.string(r,{fromLanguage:h(i,"DislateLangFrom","detect"),toLanguage:h(i,"DislateLangTo","english")},o);return!r||!l?(It(t.channel.id,`Failed to send message in #${t.channel.name}`),{}):await new Promise(c=>{F.show({title:"Are you sure?",body:`The message **about to be sent** is:
\`${r}\`

In **${$.string(h(i,"DislateLangTo","english"))}**, this will translate to:
\`${l}\`

${h(i,"DislateBothLangToggle",!1)?`**Note: Sending original and translated**
`:""}Are you sure you want to send this? :3`,confirmText:"Yep, send it!",cancelText:"Nope, don't send it",onConfirm:()=>{v.open({content:`Sent message in #${t.channel.name}, which was translated into ${$.string(s)}.`,source:g.Translate}),c({content:h(i,"DislateBothLangToggle",!1)?`${a}

${r}`:r})},onCancel:()=>{v.open({content:"Cancelled translated message request.",source:g.Cancel}),c({})}})})}},Pt=["auto","amh","ara","aym","asm","aka","aze","bel","bul","bam","ben","cos","cze","bos","dan","cat","cat","ger","ewe","div","div","div","eng","gre","est","epo","baq","spa","spa","fin","fre","per","gle","glg","grn","fry","guj","gla","gla","hau","hrv","heb","hin","hat","hat","arm","ind","hun","ibo","ice","ita","geo","jav","jpn","kor","kaz","kan","afr","khm","wel","kur","kir","kir","lat","ltz","ltz","lug","lao","lav","lin","lit","mlg","mac","mal","mao","mar","nob","mon","bur","mlt","nep","may","dut","dut","nya","nya","nya","nor","orm","ori","pan","pan","pol","que","pus","pus","rus","san","rum","rum","rum","slv","kin","slo","sin","sin","smo","sna","som","srp","alb","swa","sot","swe","sun","tam","tgk","tel","tgl","tuk","tir","tha","tso","snd","por","twi","tur","tat","urd","ukr","uig","uig","uzb","vie","yid","xho","chit","chis","zul","yor"];const Mt=_.createThemedStyleSheet({container:{width:"95%",marginLeft:"2.5%",borderRadius:10,marginTop:15,backgroundColor:d.ThemeColorMap.BACKGROUND_MOBILE_SECONDARY}}),ee=window.enmity.modules.common.Components.General.Animated;var Ft=({language:e,languages:t,selected:a,setSelected:s})=>{const o=we.useNavigation(),r=Object.assign({},...q.map((b,k)=>({[b]:Pt[k]}))),l=n.useRef(new ee.Value(1)).current,c=()=>ee.spring(l,{toValue:1.05,duration:250,useNativeDriver:!0}).start(),p=()=>ee.spring(l,{toValue:1,duration:250,useNativeDriver:!0}).start(),u={transform:[{scale:l}]},f=b=>{var k;P(i,`DislateLang${h(i,"DislateLangFilter")?"To":"From"}`,b),v.open({content:`Set ${t[b].toUpperCase()} as Language to Translate ${h(i,"DislateLangFilter")?"to":"from"}.`,source:h(i,"DislateLangFilter")?g.Settings.TranslateTo:g.Settings.TranslateFrom}),s(h(i,`DislateLang${h(i,"DislateLangFilter")?"To":"From"}`)),(k=o==null?void 0:o.pop)==null||k.call(o)};return n.createElement(n.Fragment,null,n.createElement(x,{onPress:()=>f(e),onLongPress:()=>f(e),onPressIn:c,onPressOut:p},n.createElement(ee.View,{style:[u,Mt.container]},n.createElement(y,{label:$.string(e),subLabel:`Aliases: ${t[e]}, ${r[t[e]]}`,trailing:()=>n.createElement(y.Arrow,null),leading:n.createElement(y.Icon,{style:{color:d.ThemeColorMap.INTERACTIVE_NORMAL},source:a===e?g.Settings.Toasts.Settings:g.Add})}))))};const Bt=pe("StaticSearchBarContainer");var Nt=({languages:e})=>{const[t,a]=n.useState([]),[s,o]=n.useState(e),[r,l]=n.useState(!1),[c,p]=n.useState(h(i,`DislateLang${h(i,"DislateLangFilter")?"To":"From"}`));return n.createElement(T,{style:{marginBottom:50}},n.createElement(Bt,{placeholder:"Search Language",onChangeText:u=>a(u)}),n.createElement(se,{refreshControl:n.createElement(qe,{refreshing:r,onRefresh:async function(){l(!0),o(Object.assign({},...N.map((u,f)=>({[u]:q[f]})))),l(!1)}})},n.createElement(T,{style:{paddingBottom:30}},n.createElement(He,{data:Object.keys(s).filter(u=>u.toLowerCase().includes(t)),renderItem:({item:u})=>h(i,"DislateLangFilter")&&u=="detect"?n.createElement(n.Fragment,null):n.createElement(Ft,{language:u,languages:s,selected:c,setSelected:p}),keyExtractor:u=>u}))),n.createElement(Ie,{label:"Important",content:`You can either press or long-press on an item to select it as the language to translate ${h(i,"DislateLangFilter")?"to":"from"}. Your current selected language has a \u2713 next to it.

To hide this dialog, press on it.`,type:"floating"}))};const D=_.createThemedStyleSheet({container:{marginTop:25,marginLeft:"5%",marginBottom:-15,flexDirection:"row"},textContainer:{paddingLeft:15,paddingTop:5,flexDirection:"column",flexWrap:"wrap",...E.shadow()},image:{width:75,height:75,borderRadius:10,...E.shadow()},mainText:{opacity:.975,letterSpacing:.25},header:{color:d.ThemeColorMap.HEADER_PRIMARY,fontFamily:d.Fonts.DISPLAY_BOLD,fontSize:25,letterSpacing:.25},subHeader:{color:d.ThemeColorMap.HEADER_SECONDARY,fontSize:12.75}}),te=window.enmity.modules.common.Components.General.Animated,de=I("transitionToGuild","openURL");var Ot=({manifest:{name:e,version:t,plugin:a,authors:s}})=>{const o=n.useRef(new te.Value(1)).current,r=()=>te.spring(o,{toValue:1.1,duration:10,useNativeDriver:!0}).start(),l=()=>te.spring(o,{toValue:1,duration:250,useNativeDriver:!0}).start(),c=()=>de.openURL(a.repo),p={transform:[{scale:o}]};return n.createElement(T,{style:D.container},n.createElement(x,{onPress:c,onPressIn:r,onPressOut:l},n.createElement(te.View,{style:p},n.createElement(fe,{style:[D.image],source:{uri:be.getCurrentUser().getAvatarURL()}}))),n.createElement(T,{style:D.textContainer},n.createElement(x,{onPress:()=>de.openURL(a.repo)},n.createElement(C,{style:[D.mainText,D.header]},e)),n.createElement(T,{style:{flexDirection:"row"}},n.createElement(C,{style:[D.mainText,D.subHeader]},"A project by"),s.map((u,f,b)=>n.createElement(x,{onPress:()=>de.openURL(u.profile)},n.createElement(C,{style:[D.mainText,D.subHeader,{paddingLeft:4,fontFamily:d.Fonts.DISPLAY_BOLD,flexDirection:"row"}]},u.name,f<b.length-1?",":null)))),n.createElement(T,null,n.createElement(x,{style:{flexDirection:"row"},onPress:async function(){const u=await B.fetchDebugArguments();ie.setString(await B.debugInfo(u)),E.displayToast("debug information","clipboard")}},n.createElement(C,{style:[D.mainText,D.subHeader]},"Version:"),n.createElement(C,{style:[D.mainText,D.subHeader,{paddingLeft:4,fontFamily:d.Fonts.DISPLAY_BOLD}]},t)))))};const R=_.createThemedStyleSheet({icon:{tintColor:d.ThemeColorMap.INTERACTIVE_NORMAL},item:{color:d.ThemeColorMap.TEXT_MUTED,fontFamily:d.Fonts.PRIMARY_MEDIUM},container:{width:"90%",marginLeft:"5%",borderRadius:10,backgroundColor:d.ThemeColorMap.BACKGROUND_MOBILE_SECONDARY,...E.shadow()},subheaderText:{color:d.ThemeColorMap.HEADER_SECONDARY,textAlign:"center",margin:10,marginBottom:50,letterSpacing:.25,fontFamily:d.Fonts.PRIMARY_BOLD,fontSize:14}});function Ue({manifest:e,renderPage:t,Navigation:a,languages:s,kind:o}){return n.createElement(y,{label:`Translate ${$.string(o)}`,leading:n.createElement(y.Icon,{style:R.icon,source:o==="to"?g.Settings.TranslateTo:g.Settings.TranslateFrom}),trailing:()=>{var r;return n.createElement(T,{style:{flexDirection:"row",justifyContent:"center",alignItems:"center"}},n.createElement(C,{adjustsFontSizeToFit:!0,style:R.item},(r=$.string(h(e.name,`DislateLang${$.string(o)}`,"detect")))!=null?r:"N/A"),n.createElement(y.Arrow,null))},onPress:()=>{P(e.name,"DislateLangFilter",o==="to"),t(a,{pageName:`Translate ${K(e.name,"DislateLangFilter",!0)?"To":"From"}`,pagePanel:()=>n.createElement(Nt,{languages:s})})},onLongPress:()=>E.displayToast('Open a new page allowing you to choose a language that you can translate from. The default is "Detect".',"tooltip")})}const Ut=I("transitionToGuild","openURL"),jt=I("openLazy","hideActionSheet"),Y=parseInt(ce.split(".")[0])>163?15:0;var Vt=({settings:e,manifest:t,languages:a,renderPage:s})=>{const o=we.useNavigation();return n.createElement(se,null,n.createElement(Ot,{manifest:t}),n.createElement(T,{style:{marginTop:20}},n.createElement(Z,{label:"Language"},n.createElement(T,{style:R.container},n.createElement(Ue,{manifest:t,renderPage:s,Navigation:o,languages:a,kind:"from"}),n.createElement(M,null),n.createElement(Ue,{manifest:t,renderPage:s,Navigation:o,languages:a,kind:"to"}),n.createElement(M,null),n.createElement(y,{label:"Abbreviate Language",leading:n.createElement(y.Icon,{style:R.icon,source:g.Retry}),subLabel:"Label language in a shorter form when translating (English \u279D EN).",onLongPress:()=>E.displayToast("Convert the full language name to an abbreviation when translating someone else's message. (test [English] \u279D test [EN])","tooltip"),trailing:()=>n.createElement(re,{value:e.getBoolean("DislateLangAbbr",!1),style:{marginLeft:-Y},onValueChange:()=>{e.toggle("DislateLangAbbr",!1),v.open({content:`Successfully ${e.getBoolean("DislateLangAbbr",!1)?"enabled":"disabled"} language abbreviations.`,source:g.Settings.Toasts.Settings})}})}),n.createElement(M,null),n.createElement(y,{label:"Send Original",leading:n.createElement(y.Icon,{style:R.icon,source:g.Settings.Locale}),subLabel:"Send both the Original and Translated message when using /translate.",onLongPress:()=>E.displayToast("When using the /translate command, send both the original message and the translated message at once.","tooltip"),trailing:()=>n.createElement(re,{value:e.getBoolean("DislateBothLangToggle",!1),style:{marginLeft:-Y},onValueChange:()=>{e.toggle("DislateBothLangToggle",!1),v.open({content:`Now sending ${e.getBoolean("DislateBothLangToggle",!1)?"original and translated":"only translated"} message.`,source:g.Settings.Toasts.Settings})}})}))),n.createElement(Z,{label:"Utility"},n.createElement(T,{style:R.container},n.createElement(y,{label:"Initialisation Toasts",leading:n.createElement(y.Icon,{style:R.icon,source:g.Settings.Initial}),subLabel:`Toggle initialisation toasts to display loading state of ${t.name}.`,onLongPress:()=>E.displayToast(`When Enmity is first started, show toasts based on ${t.name}'s current state (starting, failed, retrying, etc)`,"tooltip"),trailing:()=>n.createElement(re,{value:e.getBoolean("toastEnable",!1),style:{marginLeft:-Y},onValueChange:()=>{e.toggle("toastEnable",!1),v.open({content:`Successfully ${e.getBoolean("toastEnable",!1)?"enabled":"disabled"} Load Toasts.`,source:g.Settings.Toasts.Settings})}})}),n.createElement(M,null),n.createElement(y,{label:"Open Debug Info",subLabel:`Open useful page to copy debug information like version and build of ${t.name} to clipboard.`,onLongPress:()=>E.displayToast(`Copy the full debug log to clipboard including ${t.name}'s Version, Build, and Release, Enmity's Version and Build, etc.`,"tooltip"),leading:n.createElement(y.Icon,{style:R.icon,source:g.Copy}),trailing:()=>n.createElement(y.Arrow,{style:{marginLeft:-Y}}),onPress:()=>{Me({onConfirm:(r,l)=>{jt.hideActionSheet(),ie.setString(r),E.displayToast(`${l}`,"clipboard")},type:"copy"})}}),n.createElement(M,null),n.createElement(y,{label:"Clear Stores",subLabel:`Void most of the settings and stores used throughout ${t.name} to store data locally.`,onLongPress:()=>E.displayToast(`Clear stores and settings throughout ${t.name} including the settings to hide popups forever and the list of device codes.`,"tooltip"),leading:n.createElement(y.Icon,{style:R.icon,source:g.Delete}),trailing:()=>n.createElement(y.Arrow,{style:{marginLeft:-Y}}),onPress:async function(){var r,l;const c=(r=JSON.parse(h(t.name,"state_store",null)))!=null?r:[];for(let p=0;p<c.length;p++){const u=c[p];u.type==="storage"?await le.removeItem(u.name):P(t.name,u.name,(l=u.override)!=null?l:!1)}P(t.name,"state_store",null),v.open({content:`Cleared all ${t.name} stores.`,source:g.Settings.Toasts.Settings})}}))),n.createElement(Z,{label:"Source"},n.createElement(T,{style:R.container},n.createElement(y,{label:"Check for Updates",subLabel:`Search for any ${t.name} updates and notify you if an update is available.`,onLongPress:()=>E.displayToast(`Search GitHub for any new version or build of ${t.name} and prompts you to update, and then prompts you to restart Enmity afterwards.`,"tooltip"),leading:n.createElement(y.Icon,{style:R.icon,source:g.Settings.Update}),trailing:()=>n.createElement(y.Arrow,{style:{marginLeft:-Y}}),onPress:async function(){await wt.checkForUpdates()}}),n.createElement(M,null),n.createElement(y,{label:"Source",subLabel:`Open the repository of ${t.name} externally.`,onLongPress:()=>E.displayToast(`Opens the repository of ${t.name} on GitHub in an external page to view any source code of the plugin.`,"tooltip"),leading:n.createElement(y.Icon,{style:R.icon,source:g.Open}),trailing:()=>n.createElement(y.Arrow,null),onPress:()=>{Ut.openURL(t.plugin.repo)}})))),n.createElement(C,{style:R.subheaderText},`Build: (${t.plugin.hash}) Release: (${t.release})`))};const[zt,Yt,je,Ve,ze,he]=Je(O.byProps("getChannel","getDMFromUserId"),O.byProps("openLazy","hideActionSheet"),O.byProps("Messages"),O.byName("ActionSheet",!1),O.byProps("EmojiRow"),O.byProps("_currentDispatchActionType","_subscriptions","_actionHandlers","_waitQueue")),ne=Xe(S.name),ye=Object.assign({},...N.map((e,t)=>({[e]:q[t]})));let ae=[{invalid_id:"rosie sucks"}];const Ye={...S,commands:[],patchActionSheet({data:{message:e,res:t}}){let a="Translate",s=0;if(!(t!=null&&t.props)){console.log(`[${S.name} Local Error: Property "props" Does not Exist on "res"]`);return}const o=Se(t,u=>Array.isArray(u)&&u.find(f=>{var b;return typeof(f==null?void 0:f.key)=="string"&&typeof((b=f==null?void 0:f.props)==null?void 0:b.message)=="string"}));if(!o){console.log(`[${S.name} Local Error: 'finalLocation' seems to be undefined!]`);return}Object.values(E.externalPlugins).forEach(u=>{o.find(f=>{if(f.key!==E.externalPlugins.dislate)return f.key===u})&&s++});for(const u of[o.find(f=>{var b;return((b=f.props)==null?void 0:b.message)===je.Messages.MESSAGE_ACTION_REPLY}),o.find(f=>{var b;return((b=f.props)==null?void 0:b.message)===je.Messages.EDIT_MESSAGE})])u&&s++;if(!(e!=null&&e.content)){console.log(`[${S.name}] No message content.`);return}const r=e==null?void 0:e.id,l=e==null?void 0:e.content,c=ae.find(u=>Object.keys(u)[0]===r,"cache object");a=c?"Revert":"Translate";const p=n.createElement(y,{key:E.externalPlugins.dislate,label:a,leading:n.createElement(y.Icon,{source:a==="Translate"?g.Translate:g.Revert}),onPress:()=>{const u=h(S.name,"DislateLangFrom","detect"),f=h(S.name,"DislateLangTo","english"),b=a==="Translate";W.string(e.content,{fromLanguage:u,toLanguage:f},ye,!b).then(k=>{const oe={type:"MESSAGE_UPDATE",message:{...e,content:`${b?k:c[r]} ${b?`\`[${K(S.name,"DislateLangAbbr",!1)?ye[f].toUpperCase():$.string(f)}]\``:""}`,guild_id:zt.getChannel(e.channel_id).guild_id},log_edit:!1};he.dispatch(oe),v.open({content:b?`Modified message to ${$.string(h(S.name,"DislateLangTo","english"))}.`:"Reverted message back to original state.",source:g.Translate}),b?ae.unshift({[r]:l}):ae=ae.filter(Ge=>Ge!==c,"cached data override")}),Yt.hideActionSheet()}});o.splice(s,0,p)},onStart(){var e;this.commands=[xt,At];let t=0;const a=3;try{t++;let s=K(S.name,"toastEnable",!1);try{he==null||he.dispatch({type:"MESSAGE_UPDATE",message:{}})}catch(o){console.error(`[${S.name} Local Error When Waking Up FluxDispatcher ${o}]`)}console.log(`[${S.name}] delayed start attempt ${t}/${a}.`),s&&((e=v)==null||e.open({content:`[${S.name}] start attempt ${t}/${a}.`,source:g.Debug}));try{parseInt(ce.substring(0,3))>164?Ve.default&&ne.after(Ve,"default",(o,r,l)=>{const c=Se(l,p=>p.sheetKey);(c==null?void 0:c.sheetKey)&&c.sheetKey!=="MessageLongPressActionSheet"||ne.after(c==null?void 0:c.content,"type",(p,[{message:u}],f)=>{this.patchActionSheet({data:{message:u,res:f}})})}):ze.default&&ne.after(ze,"default",(o,[{message:r}],l)=>{this.patchActionSheet({data:{message:r,res:l}})})}catch(o){console.error(`[${S.name}] Local ${o} At Intermediate Level`),s&&v.open({content:`[${S.name}] failed to open action sheet.`,source:g.Retry})}}catch(s){console.error(`[${S.name}] Local ${s} At Top Level`);let o=K(S.name,"toastEnable",!1);if(t<a){const r=`[${S.name}] failed to initialise. Trying again in ${t}0s.`;console.warn(r),o&&v.open({content:r,source:g.Retry}),setTimeout(this.initializeActionSheet(),t*1e4)}else{const r=`[${S.name}] failed to initialise. Giving up.`;console.error(r),o&&v.open({content:r,source:g.Failed})}}},onStop(){ne.unpatchAll(),this.commands=[]},renderPage(e,{pageName:t,pagePanel:a}){var s;return(s=e==null?void 0:e.push)==null?void 0:s.call(e,"EnmityCustomPage",{pageName:t,pagePanel:a})},getSettingsPanel({settings:e}){return n.createElement(Vt,{settings:e,manifest:S,renderPage:Ye.renderPage,languages:ye})}};Ke(Ye);
